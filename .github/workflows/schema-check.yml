# Add proper content incorporating CRAN mirror
name: schema-check

on:
  workflow_dispatch:

env:
  R_LIBS_USER: ${{ github.workspace }}/.R_library

jobs:
  install:
    name: Install dependencies
    runs-on: ubuntu-latest

    steps:
    - name: Set up R
      uses: r-lib/actions/setup-r@v2

    - name: Install system dependencies
      run: |
        sudo apt-get update -qq
        sudo apt-get install -y libcurl4-openssl-dev libssl-dev libxml2-dev

    - name: Install R packages
      run: |
        Rscript -e 'options(repos = c(CRAN = "https://cran.rstudio.com"))'
        Rscript -e 'install.packages("remotes")'
        Rscript -e 'remotes::install_deps(dependencies = TRUE)'

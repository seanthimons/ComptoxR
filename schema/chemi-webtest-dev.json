{"openapi":"3.1.0","info":{"title":"WebTEST Module","version":"1.0.0"},"servers":[{"url":"/","description":"Default Server URL"}],"paths":{"/api/webtest":{"get":{"tags":[""],"operationId":"descriptorsGet","parameters":[{"name":"smiles","in":"query","required":true,"schema":{"type":"string"}},{"name":"headers","in":"query","required":false,"schema":{"type":"boolean","default":false}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DescriptorsResponse"}}}}}},"post":{"tags":[""],"operationId":"descriptorsPost","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DescriptorsRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DescriptorsResponse"}}}}}}},"/api/webtest/predict":{"get":{"tags":[""],"operationId":"predict","parameters":[{"name":"smiles","in":"query","required":true,"schema":{"type":"string"}},{"name":"endpoint","in":"query","required":false,"schema":{"type":"string"}},{"name":"method","in":"query","required":false,"schema":{"type":"string","default":"consensus"}},{"name":"format","in":"query","required":false,"schema":{"type":"string","enum":["UNKNOWN","SDF","SMI","MOL","CSV","TSV","JSON","XLSX","PDF","HTML","XML","DOCX"]}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PredictionResult"}}}}}},"post":{"tags":[""],"operationId":"predict_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PredictionRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PredictionResult"}}}}}}},"/api/webtest/predict/export":{"post":{"tags":[""],"operationId":"exportPost","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExportRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/webtest/export-append":{"post":{"tags":[""],"operationId":"exportAppendPredict","requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"},"predictionRequest":{"$ref":"#/components/schemas/PredictionRequest"}},"required":["predictionRequest"]}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/webtest/version":{"get":{"tags":[""],"operationId":"versionGet","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VersionInfo"}}}}}}},"/api/webtest/report":{"get":{"tags":[""],"summary":"Retrieve previously generated report by response ID","operationId":"report","parameters":[{"name":"structure","in":"query","required":true,"schema":{"type":"string"}},{"name":"endpoint","in":"query","required":true,"schema":{"type":"string"}},{"name":"method","in":"query","required":false,"schema":{"type":"string","default":"consensus"}},{"name":"format","in":"query","required":false,"schema":{"type":"string","default":"HTML","enum":["UNKNOWN","SDF","SMI","MOL","CSV","TSV","JSON","XLSX","PDF","HTML","XML","DOCX"]}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/webtest/metadata":{"get":{"tags":[""],"operationId":"metadataGet","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/WebTESTMetadata"}}}}}}}},"components":{"schemas":{"DescriptorsRequest":{"type":"object","properties":{"type":{"type":"string"},"chemicals":{"type":"array","items":{"type":"string"}},"chemIdType":{"type":"string","enum":["DTXSID","DTXCID","SMILES","MOL","CAS","Name","InChI","InChIKey","InChIKey_1","AnyId"]},"format":{"type":"string","enum":["JSON","CSV","TSV"]},"options":{"type":"object","additionalProperties":{}}}},"ChemicalDescriptors":{"type":"object","properties":{"ordinal":{"type":"integer","format":"int32"},"smiles":{"type":"string"},"inchi":{"type":"string"},"inchiKey":{"type":"string"},"descriptors":{"type":"array","items":{}}}},"DescriptorsResponse":{"type":"object","properties":{"info":{"$ref":"#/components/schemas/VersionInfo"},"headers":{"type":"array","items":{"type":"string"}},"options":{"type":"object","additionalProperties":{}},"chemicals":{"type":"array","items":{"$ref":"#/components/schemas/ChemicalDescriptors"}}}},"VersionInfo":{"type":"object","properties":{"name":{"type":"string"},"title":{"type":"string"},"version":{"type":"string"},"description":{"type":"string"},"category":{"type":"string"},"compiled":{"type":"string","format":"date-time"}}},"PredictionRequest":{"type":"object","description":"WebTEST prediction request","properties":{"structures":{"type":"array","description":"Molecule expressed as SMILES or MOL","items":{"type":"string"}},"endpoints":{"type":"array","description":"Endpoint to predict","items":{"type":"string"}},"methods":{"type":"array","description":"Prediction method: hc (Hierarchical Clustering), sm (Single Model), nn (Nearest Neighbour), gc (Group Contribution) or consensus (Default)","items":{"type":"string"}},"format":{"type":"string","description":"Report type: JSON, HTML or PDF","enum":["UNKNOWN","SDF","SMI","MOL","CSV","TSV","JSON","XLSX","PDF","HTML","XML","DOCX"]}}},"CancerStats":{"type":"object","properties":{"concordance":{"type":"string"},"correctCount":{"type":"integer","format":"int32"},"predCount":{"type":"integer","format":"int32"},"posConcordance":{"type":"string"},"posCorrectCount":{"type":"integer","format":"int32"},"posPredCount":{"type":"integer","format":"int32"},"negConcordance":{"type":"string"},"negCorrectCount":{"type":"integer","format":"int32"},"negPredCount":{"type":"integer","format":"int32"}}},"ClusterModel":{"type":"object","properties":{"url":{"type":"string"},"urlDescriptors":{"type":"string"},"clusterID":{"type":"string"},"messageAD":{"type":"string"},"minMaxValue":{"type":"string"},"omitted":{"type":"boolean"},"binary":{"type":"boolean"},"r2":{"type":"string"},"q2":{"type":"string"},"concordance":{"type":"string"},"sensitivity":{"type":"string"},"specificity":{"type":"string"},"numChemicals":{"type":"integer","format":"int32"},"descriptors":{"type":"array","items":{"$ref":"#/components/schemas/Descriptor"}},"modelEquation":{"type":"string"},"plotImage":{"type":"string"},"predictedValue":{"type":"string"},"predictedValueLabel":{"type":"string"}}},"ClusterTable":{"type":"object","properties":{"caption":{"type":"string"},"units":{"type":"string"},"message":{"type":"string"},"clusterModels":{"type":"array","items":{"$ref":"#/components/schemas/ClusterModel"}}}},"DSSToxRecord":{"type":"object","properties":{"gsid":{"type":"integer","format":"int32"},"cid":{"type":"string"},"sid":{"type":"string"},"casrn":{"type":"string"},"name":{"type":"string"},"smiles":{"type":"string"},"inchi":{"type":"string"},"inchiKey":{"type":"string"},"inchiKey1":{"type":"string"},"mol":{"type":"string"},"error":{"type":"string"},"id":{"type":"string"},"chemId":{"type":"string"}}},"Descriptor":{"type":"object","properties":{"name":{"type":"string"},"definition":{"type":"string"},"value":{"type":"string"},"value_x_coefficient":{"type":"string"},"coefficient":{"type":"string"},"coefficientUncertainty":{"type":"string"}}},"EndpointInfo":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"valueDigits":{"type":"integer","format":"int32"},"binary":{"type":"boolean"},"units":{"type":"string"},"logMolar":{"type":"boolean"},"logUnits":{"type":"string"},"logValueDigits":{"type":"integer","format":"int32"}}},"EndpointSource":{"type":"object","properties":{"sourceName":{"type":"string"},"sourceURL":{"type":"string"}}},"ExternalPredChart":{"type":"object","properties":{"externalPredChartImageSrc":{"type":"string"},"maeentireTestSet":{"type":"number","format":"double"},"mae":{"type":"number","format":"double"}}},"IndividualPredictionsForConsensus":{"type":"object","properties":{"consensusPredictions":{"type":"array","items":{"$ref":"#/components/schemas/PredictionIndividualMethod"}},"units":{"type":"string"}}},"MOAPrediction":{"type":"object","properties":{"color":{"type":"string"},"tag":{"type":"string"},"clusterModelMOA":{"$ref":"#/components/schemas/ClusterModel"},"clusterModelLC50":{"$ref":"#/components/schemas/ClusterModel"},"moa":{"type":"string"},"moascore":{"type":"string"},"moascoreMsg":{"type":"string"},"lc50Score":{"type":"string"},"lc50ScoreMsg":{"type":"string"}}},"MOATable":{"type":"object","properties":{"moapredictions":{"type":"array","items":{"$ref":"#/components/schemas/MOAPrediction"}}}},"PredictionChemical":{"type":"object","properties":{"chemicalId":{"type":"string"},"chemical":{"$ref":"#/components/schemas/DSSToxRecord"},"endpoints":{"type":"array","items":{"$ref":"#/components/schemas/PredictionEndpoint"}}}},"PredictionEndpoint":{"type":"object","properties":{"endpoint":{"$ref":"#/components/schemas/EndpointInfo"},"experimental":{"type":"array","items":{"$ref":"#/components/schemas/PredictionValue"}},"predicted":{"type":"array","items":{"$ref":"#/components/schemas/PredictionValue"}},"displayedExperimentalString":{"type":"string"},"displayedPredictedString":{"type":"string"},"path":{"type":"string"}}},"PredictionIndividualMethod":{"type":"object","properties":{"method":{"type":"string"},"prediction":{"type":"string"},"fileName":{"type":"string"}}},"PredictionResult":{"type":"object","properties":{"id":{"type":"string"},"predictionTime":{"type":"string"},"software":{"type":"string"},"softwareVersion":{"type":"string"},"condition":{"type":"string"},"chemicals":{"type":"array","items":{"$ref":"#/components/schemas/PredictionChemical"}}}},"PredictionResultMessage":{"type":"object","properties":{"severity":{"type":"string","enum":["INFO","WARNING","ERROR"]},"message":{"type":"string"},"code":{"type":"string"}}},"PredictionResults":{"type":"object","properties":{"cacheId":{"type":"string"},"version":{"type":"string"},"imageURL":{"type":"string"},"error":{"type":"string"},"method":{"type":"string"},"endpoint":{"type":"string"},"binaryEndpoint":{"type":"boolean"},"logMolarEndpoint":{"type":"boolean"},"clusterTable":{"$ref":"#/components/schemas/ClusterTable"},"invalidClusterTable":{"$ref":"#/components/schemas/ClusterTable"},"predictionResultsPrimaryTable":{"$ref":"#/components/schemas/PredictionResultsPrimaryTable"},"individualPredictionsForConsensus":{"$ref":"#/components/schemas/IndividualPredictionsForConsensus"},"moaTable":{"$ref":"#/components/schemas/MOATable"},"similarChemicals":{"type":"array","items":{"$ref":"#/components/schemas/SimilarChemicals"}},"reportBase":{"type":"string"},"createDetailedReport":{"type":"boolean"},"imgSize":{"type":"integer","format":"int32"},"webPath":{"type":"string"},"webPath2":{"type":"string"},"smiles":{"type":"string"},"scmin":{"type":"number","format":"double"},"cas":{"type":"string"},"dtxsid":{"type":"string"},"dtxcid":{"type":"string"}}},"PredictionResultsPrimaryTable":{"type":"object","properties":{"source":{"type":"string"},"endpointSubscripted":{"type":"string"},"endpointSources":{"type":"array","items":{"$ref":"#/components/schemas/EndpointSource"}},"dtxcid":{"type":"string"},"expCAS":{"type":"string"},"expSet":{"type":"string"},"writePredictionInterval":{"type":"boolean"},"expToxValue":{"type":"string"},"predToxValue":{"type":"string"},"expToxValMass":{"type":"string"},"predToxValMass":{"type":"string"},"expToxValueEndpoint":{"type":"string"},"predValueEndpoint":{"type":"string"},"molarLogUnits":{"type":"string"},"massUnits":{"type":"string"},"predMinMaxVal":{"type":"string"},"predMinMaxValMass":{"type":"string"},"predictedValueSuperscript":{"type":"string"},"predictedValueNote":{"type":"string"},"message":{"type":"string"},"expMOA":{"type":"string"},"predMOA":{"type":"string"},"maxScoreMOA":{"type":"string"}}},"PredictionValue":{"type":"object","properties":{"method":{"type":"string"},"active":{"type":"boolean"},"logValue":{"type":"number","format":"double"},"value":{"type":"number","format":"double"},"message":{"type":"string"},"errorCode":{"type":"string"},"error":{"type":"string"},"resultMessage":{"$ref":"#/components/schemas/PredictionResultMessage"},"predictionResults":{"$ref":"#/components/schemas/PredictionResults"}}},"SimilarChemical":{"type":"object","properties":{"gsid":{"type":"string"},"backgroundColor":{"type":"string"},"similarityCoefficient":{"type":"string"},"expVal":{"type":"string"},"predVal":{"type":"string"},"imageUrl":{"type":"string"},"dsstoxsid":{"type":"string"},"dsstoxcid":{"type":"string"},"cas":{"type":"string"}}},"SimilarChemicals":{"type":"object","properties":{"similarChemicalsSet":{"type":"string"},"similarChemicalsCount":{"type":"integer","format":"int32"},"units":{"type":"string"},"expVal":{"type":"string"},"predVal":{"type":"string"},"similarChemicalsList":{"type":"array","items":{"$ref":"#/components/schemas/SimilarChemical"}},"externalPredChart":{"$ref":"#/components/schemas/ExternalPredChart"},"cancerStats":{"$ref":"#/components/schemas/CancerStats"}}},"ExportRequest":{"type":"object","properties":{"format":{"type":"string","enum":["UNKNOWN","SDF","SMI","MOL","CSV","TSV","JSON","XLSX","PDF","HTML","XML","DOCX"]},"predictionResult":{"$ref":"#/components/schemas/PredictionResult"}}},"MethodInfo":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"}}},"WebTESTMetadata":{"type":"object","properties":{"version":{"$ref":"#/components/schemas/VersionInfo"},"headers":{"type":"array","items":{"type":"string"}},"methods":{"type":"array","items":{"$ref":"#/components/schemas/MethodInfo"}},"endpoints":{"type":"array","items":{"$ref":"#/components/schemas/EndpointInfo"}},"inputFormats":{"type":"array","items":{"type":"string","enum":["UNKNOWN","AUTO","MOL","RXN","SDF","RDF","SMI","SMILES","SMIRKS","CSV","TSV","JSON","XLSX","TXT","MSP"]}}}}}}}
% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/z_generic_request.R
\name{generic_chemi_request}
\alias{generic_chemi_request}
\title{Generic Cheminformatics API Request Function}
\usage{
generic_chemi_request(
  query,
  endpoint,
  options = list(),
  sid_label = "sid",
  server = "chemi_burl",
  auth = FALSE,
  pluck_res = NULL,
  wrap = TRUE,
  array_payload = FALSE,
  tidy = TRUE,
  ...
)
}
\arguments{
\item{query}{A character vector of identifiers (DTXSIDs, etc.)}

\item{endpoint}{The specific sub-path (e.g., "toxprints/calculate")}

\item{options}{A named list of parameters to be placed in the 'options' JSON field.}

\item{sid_label}{The key used for identifiers in the JSON body (usually "sid").}

\item{server}{Global environment variable name for the base URL (default: 'chemi_burl').}

\item{auth}{Boolean; whether to include the API key header. Defaults to FALSE.}

\item{pluck_res}{Optional character; the name of the field to extract from the JSON response.}

\item{wrap}{Boolean; whether to wrap the query in a {"chemicals": \link{...}, "options": ...} structure.
Defaults to TRUE. If FALSE, sends a JSON array of objects like \link{{"sid": "ID1"}, ...}.
Ignored if array_payload is TRUE.}

\item{array_payload}{Boolean; if TRUE, creates a flat structure with identifiers as an array:
{"ids": \link{"ID1", "ID2"}, "option1": "value1", ...}. When TRUE, sid_label is used as the
array key name and options are merged at the top level. Takes precedence over wrap parameter.
Defaults to FALSE.}

\item{tidy}{Boolean; whether to convert the result to a tidy tibble. Defaults to TRUE.}

\item{...}{Additional arguments passed to httr2.}
}
\value{
A tidy tibble (if tidy=TRUE) or a raw list.
}
\description{
This specialized template handles the nested payload structure common to the
EPA cheminformatics microservices: {"chemicals": \link{{"sid": "ID1"}}, "options": {...}}
}
